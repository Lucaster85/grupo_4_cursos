<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popper Tutorial</title>
    <link rel="stylesheet" href="./css/popper.css">
</head>
<body>
    <div class="container">
        <div class="top-courses-sec-courses" id="button" aria-describedby="tooltip">
            <article class="course">
                <img src="./img/placeholder2.png" alt="">
                <h4>TITULO</h4>
                <p>Breve descripcion Lorem ipsum dolor sit amet consectetur adipisicing elit. Quasi, facere labore. Consectetur labore iure ratione.</p>
                <div class="hidden-course-info">
                    <p><span class="hidden-course-info-title">Precio:</span> USD 380</p>
                    <p><span class="hidden-course-info-title">Clases:</span> 180</p>
                    <p><span class="hidden-course-info-title">Horas:</span> 25</p>
                    <button class="btn-addtocart"><i class="fas fa-shopping-cart"></i></button>
                </div>
            </article>
        </div>
        <div class="hidden-course-info" id="tooltip" role="tooltip">
            <p><span class="hidden-course-info-title">Precio:</span> USD 380</p>
            <p><span class="hidden-course-info-title">Clases:</span> 180</p>
            <p><span class="hidden-course-info-title">Horas:</span> 25</p>
            <button class="btn-addtocart"><i class="fas fa-shopping-cart"></i></button>
            <div id="arrow" data-popper-arrow></div>
        </div>
    </div>
    
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script>
        const button = document.querySelector('#button');
        const tooltip = document.querySelector('#tooltip');
        
        Popper.createPopper(button, tooltip);
        
        Popper.createPopper(button, tooltip, {
            modifiers: [
            {
                name: 'offset',
                options: {
                    offset: [0, 8],
                },
            },
            ],
        });
        
        function show() {
            tooltip.setAttribute('data-show', '');
        }
        
        function hide() {
            tooltip.removeAttribute('data-show');
        }
        
        const showEvents = ['mouseenter', 'focus'];
        const hideEvents = ['mouseleave', 'blur'];
        
        showEvents.forEach(event => {
            button.addEventListener(event, show);
        });
        
        hideEvents.forEach(event => {
            button.addEventListener(event, hide);
        });
        
        let popperInstance = null;
        
        function create() {
            popperInstance = Popper.createPopper(button, tooltip, {
                modifiers: [
                {
                    name: 'offset',
                    options: {
                        offset: [0, 8],
                    },
                },
                ],
            });
        }
        
        function destroy() {
            if (popperInstance) {
                popperInstance.destroy();
                popperInstance = null;
            }
        }
        
        function show() {
            tooltip.setAttribute('data-show', '');
            create();
        }
        
        function hide() {
            tooltip.removeAttribute('data-show');
            destroy();
        }
    </script>    
</body>
</html>